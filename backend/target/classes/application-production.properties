# Production Configuration for ZioHelp Multi-Product Help System
# Copy this to application-production.properties for production deployment

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/ziohelp_prod
spring.datasource.username=${DB_USERNAME:ziohelp_user}
spring.datasource.password=${DB_PASSWORD:secure_password_here}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration - Use 'validate' in production to prevent schema changes
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# Server Configuration
server.port=${PORT:8080}
server.servlet.context-path=
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# Security Configuration
app.jwtSecret=${JWT_SECRET:myVerySecureJWTSecretKeyForProduction123456789}
app.jwtExpirationInMs=86400000

# CORS Configuration
app.cors.allowedOrigins=${CORS_ORIGINS:http://localhost:3000,https://yourdomain.com}
app.cors.allowedMethods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowedHeaders=*
app.cors.allowCredentials=true

# Email Configuration
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:your-email@company.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.location=/tmp

# Logging Configuration
logging.level.com.ziohelp=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/ziohelp.log
logging.file.max-size=10MB
logging.file.max-history=30

# Actuator Configuration
management.endpoints.web.exposure.include=health,metrics,info
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=when-authorized
management.health.db.enabled=true

# Application Information
info.app.name=ZioHelp Multi-Product Help System
info.app.description=Integrated FAQ, Knowledge Base, and Ticketing System
info.app.version=0.0.1-SNAPSHOT
info.app.encoding=UTF-8
info.app.java.version=21.0.8

# Cache Configuration (if using Redis)
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-wait=-1ms
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC

# Internationalization
spring.messages.basename=messages
spring.messages.encoding=UTF-8
spring.messages.cache-duration=PT1H

# Production Specific Settings
spring.profiles.active=production
spring.main.banner-mode=off

# API Documentation (Swagger) - Disable in production or secure it
springdoc.api-docs.enabled=${API_DOCS_ENABLED:false}
springdoc.swagger-ui.enabled=${SWAGGER_UI_ENABLED:false}

# Error Handling
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false

# Content Security
spring.security.headers.content-security-policy=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;
